(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{393:function(s,a,t){"use strict";t.r(a);var e=t(11),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" MySQL")]),s._v(" "),t("h2",{attrs:{id:"mysql常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql常用命令"}},[s._v("#")]),s._v(" MySQL常用命令")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看当前所有的数据库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("databases")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开指定的库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" 表名\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示库的结构")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v(" 表名\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示当前库的所有表")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tables")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示其他库的所有表")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tables")]),s._v(" form 库名\n")])])]),t("h2",{attrs:{id:"查询类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询类"}},[s._v("#")]),s._v(" 查询类")]),s._v(" "),t("h3",{attrs:{id:"基础查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础查询"}},[s._v("#")]),s._v(" 基础查询")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 查询列表 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表名\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询列表：表中的字段，常量，表达式，函数")]),s._v("\n")])])]),t("h4",{attrs:{id:"别名两种方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#别名两种方式"}},[s._v("#")]),s._v(" 别名两种方式")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 字段 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" 别名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 字段 别名\n")])])]),t("h4",{attrs:{id:"去重-distinct"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#去重-distinct"}},[s._v("#")]),s._v(" 去重 distinct")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" 字段 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表名\n")])])]),t("h4",{attrs:{id:"运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运算符"}},[s._v("#")]),s._v(" + 运算符")]),s._v(" "),t("ul",[t("li",[s._v("都为数值则相加")]),s._v(" "),t("li",[s._v("为字符串则转换为数值想加，转换失败则为0")]),s._v(" "),t("li",[s._v("为null，则结果为null")])]),s._v(" "),t("h4",{attrs:{id:"concat-字符拼接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#concat-字符拼接"}},[s._v("#")]),s._v(" concat 字符拼接")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" concat（字段"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，字段"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("…）\n")])])]),t("h3",{attrs:{id:"条件查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#条件查询"}},[s._v("#")]),s._v(" 条件查询")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 查询列表 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 条件\n")])])]),t("h4",{attrs:{id:"条件运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#条件运算符"}},[s._v("#")]),s._v(" 条件运算符")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <> 不等于")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# <=> 安全等于，可以判断null")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("，≥，≤，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=>")]),s._v("\n")])])]),t("h4",{attrs:{id:"逻辑运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#逻辑运算符"}},[s._v("#")]),s._v(" 逻辑运算符")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v("\n")])])]),t("h4",{attrs:{id:"模糊查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模糊查询"}},[s._v("#")]),s._v(" 模糊查询")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("between")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("is")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("null")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# % 通配符：任意多个字符，包含0个")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# _ 通配符：任意单个字符")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \\ 转义字符")]),s._v("\n")])])]),t("h3",{attrs:{id:"排序查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#排序查询"}},[s._v("#")]),s._v(" 排序查询")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" 排序字段 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("，排序字段 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("asc")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v("…\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# asc升序 desc降序")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认升序")]),s._v("\n")])])]),t("h3",{attrs:{id:"常见函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见函数"}},[s._v("#")]),s._v(" 常见函数")]),s._v(" "),t("h4",{attrs:{id:"字符函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符函数"}},[s._v("#")]),s._v(" 字符函数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("lower，upper\nconcat\nsubstr（字符串，起始索引"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("开始计数，长度）\nlength\ninstr\nlpad，rpad\ntrim\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("replace")]),s._v("\n")])])]),t("h4",{attrs:{id:"数学函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数学函数"}},[s._v("#")]),s._v(" 数学函数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("round\nceil\nfloor\nmod\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("truncate")]),s._v(" 截断指定小数位\n")])])]),t("h4",{attrs:{id:"日期函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日期函数"}},[s._v("#")]),s._v(" 日期函数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("now 日期时间\ncurdate 日期\ncurtime 时间\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("month")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("day")]),s._v("\nstr_to_date\ndate_format\n")])])]),t("h4",{attrs:{id:"流程控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程控制"}},[s._v("#")]),s._v(" 流程控制")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v("（条件，"),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("）\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" 条件\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" 常量 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" 语句\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" 默认值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])])]),t("h4",{attrs:{id:"单行函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单行函数"}},[s._v("#")]),s._v(" 单行函数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("concat，length，ifnull\n")])])]),t("h3",{attrs:{id:"多表连接查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多表连接查询"}},[s._v("#")]),s._v(" 多表连接查询")]),s._v(" "),t("blockquote",[t("p",[s._v("要查询的字段涉及到多个表时")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 查询列表\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 连接类型\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" 连接条件\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 筛选条件\n")])])]),t("h4",{attrs:{id:"笛卡尔乘积"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#笛卡尔乘积"}},[s._v("#")]),s._v(" 笛卡尔乘积")]),s._v(" "),t("p",[s._v("n × m 表1中的每一行对表2进行匹配\n原因：没有有效的连接条件")]),s._v(" "),t("h4",{attrs:{id:"内连接-inner"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内连接-inner"}},[s._v("#")]),s._v(" 内连接 inner")]),s._v(" "),t("p",[s._v("查询交集的部分")]),s._v(" "),t("ul",[t("li",[s._v("等值连接 =")]),s._v(" "),t("li",[s._v("非等值连接")]),s._v(" "),t("li",[s._v("自连接\n"),t("ul",[t("li",[s._v("给同一个表起不同的别名，使用别名进行字段区分")])])])]),s._v(" "),t("h4",{attrs:{id:"左外连接-右外连接-left-right"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#左外连接-右外连接-left-right"}},[s._v("#")]),s._v(" 左外连接/右外连接 left/right")]),s._v(" "),t("ul",[t("li",[s._v("左连左边的是主表，反之亦然")]),s._v(" "),t("li",[s._v("显示所有主表字段，次表没有显示null")])]),s._v(" "),t("h4",{attrs:{id:"全外连接-full"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全外连接-full"}},[s._v("#")]),s._v(" 全外连接 full")]),s._v(" "),t("h4",{attrs:{id:"交叉连接-cross"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#交叉连接-cross"}},[s._v("#")]),s._v(" 交叉连接 cross")]),s._v(" "),t("p",[s._v("笛卡尔乘积")]),s._v(" "),t("h3",{attrs:{id:"子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子查询"}},[s._v("#")]),s._v(" 子查询")]),s._v(" "),t("p",[s._v("出现在其他语句中的select语句")]),s._v(" "),t("ol",[t("li",[s._v("子查询放在小括号中")]),s._v(" "),t("li",[s._v("子查询放在条件的右侧")])]),s._v(" "),t("h4",{attrs:{id:"where-having-后面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#where-having-后面"}},[s._v("#")]),s._v(" where having 后面")]),s._v(" "),t("h5",{attrs:{id:"标量子查询（单行子查询）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标量子查询（单行子查询）"}},[s._v("#")]),s._v(" 标量子查询（单行子查询）")]),s._v(" "),t("ul",[t("li",[s._v("一般搭配单行操作符")]),s._v(" "),t("li",[s._v("大于/等于/小于/不等")])]),s._v(" "),t("h5",{attrs:{id:"列子查询（多行子查询）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#列子查询（多行子查询）"}},[s._v("#")]),s._v(" 列子查询（多行子查询）")]),s._v(" "),t("ul",[t("li",[s._v("一般搭配多行操作符")]),s._v(" "),t("li",[s._v("IN / NOT IN：（不）包含在列表中")]),s._v(" "),t("li",[s._v("ANY / SOME：与某一个值比较")]),s._v(" "),t("li",[s._v("ALL：与所有值比较")])]),s._v(" "),t("h5",{attrs:{id:"行子查询（多列多行）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#行子查询（多列多行）"}},[s._v("#")]),s._v(" 行子查询（多列多行）")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" 表\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" A"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" B "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" 表 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("h4",{attrs:{id:"select-后面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#select-后面"}},[s._v("#")]),s._v(" select 后面")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),t("h4",{attrs:{id:"from后面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#from后面"}},[s._v("#")]),s._v(" from后面")]),s._v(" "),t("p",[s._v("将查询的结果集作为外面语句的数据源")]),s._v(" "),t("h4",{attrs:{id:"exists后面（相关子查询）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exists后面（相关子查询）"}},[s._v("#")]),s._v(" exists后面（相关子查询）")]),s._v(" "),t("ul",[t("li",[s._v("exists(查询语句)：返回查询结果是否有值，布尔")])]),s._v(" "),t("h3",{attrs:{id:"分页查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分页查询"}},[s._v("#")]),s._v(" 分页查询")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("offset")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" size\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# offset 偏移量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# size 数量")]),s._v("\n")])])]),t("h3",{attrs:{id:"联合查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#联合查询"}},[s._v("#")]),s._v(" 联合查询")]),s._v(" "),t("p",[s._v("将多条查询语句合并成一个结果，查询多个表并且表之间没有联合关系时使用。")]),s._v(" "),t("ul",[t("li",[s._v("查询的列数必须一致")]),s._v(" "),t("li",[s._v("尽可能保证多条查询语句的每一列类型和顺序一致")]),s._v(" "),t("li",[s._v("默认自动去重，使用UNION ALL查询全部")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("查询语句"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" 查询语句"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),t("h2",{attrs:{id:"dml语言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dml语言"}},[s._v("#")]),s._v(" DML语言")]),s._v(" "),t("h3",{attrs:{id:"insert"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insert"}},[s._v("#")]),s._v(" insert")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" 表名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("列"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，列"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("值"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，值"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("值"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，值"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 支持插入多行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 支持子查询")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 列"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 插入值的类型要和列的类型保持一致或兼容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不能为null的列，不能为空")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列的顺序可以调换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列的个数和值一致")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以没有列名，此时值的顺序和个数与表保持一致")]),s._v("\n")])])]),t("h3",{attrs:{id:"update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[s._v("#")]),s._v(" update")]),s._v(" "),t("h4",{attrs:{id:"单表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单表"}},[s._v("#")]),s._v(" 单表")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 列"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 筛选条件\n")])])]),t("h4",{attrs:{id:"多表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多表"}},[s._v("#")]),s._v(" 多表")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("inner")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("right")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" 表"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" 连接条件\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 列"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 筛选条件\n")])])]),t("h3",{attrs:{id:"delete"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[s._v("#")]),s._v(" delete")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" form 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" 筛选条件\n")])])]),t("h4",{attrs:{id:"全部删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全部删除"}},[s._v("#")]),s._v(" 全部删除")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("truncate")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名\n")])])]),t("h2",{attrs:{id:"ddl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ddl"}},[s._v("#")]),s._v(" DDL")]),s._v(" "),t("p",[s._v("库和表的管理")]),s._v(" "),t("h3",{attrs:{id:"库的管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#库的管理"}},[s._v("#")]),s._v(" 库的管理")]),s._v(" "),t("h4",{attrs:{id:"create"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create"}},[s._v("#")]),s._v(" create")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" 库名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("not")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("exists")]),s._v(" 库名\n")])])]),t("h4",{attrs:{id:"alter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alter"}},[s._v("#")]),s._v(" alter")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" 旧库名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" 新库名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" 库名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("character")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 新字符集\n")])])]),t("h4",{attrs:{id:"drop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drop"}},[s._v("#")]),s._v(" drop")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" 库名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("exists")]),s._v(" 库名\n")])])]),t("h3",{attrs:{id:"表的管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表的管理"}},[s._v("#")]),s._v(" 表的管理")]),s._v(" "),t("h4",{attrs:{id:"create-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-2"}},[s._v("#")]),s._v(" create")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名 （\n  列名 列类型 约束\n）\n")])])]),t("h4",{attrs:{id:"alter-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alter-2"}},[s._v("#")]),s._v(" alter")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改列名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名 change cloumn 旧列名 新列名 类型\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改类型或约束")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("modify")]),s._v(" cloumn 列名 类型\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加新列")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" cloumn 列名 类型\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除列")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" cloumn 列名\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改表名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rename")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" 新表名\n")])])]),t("h4",{attrs:{id:"drop-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drop-2"}},[s._v("#")]),s._v(" drop")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 表名\n")])])]),t("h4",{attrs:{id:"表的复制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表的复制"}},[s._v("#")]),s._v(" 表的复制")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制表的结构")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 新表名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" 表名\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制结构 + 内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" 新表名 查询语句\n")])])]),t("h2",{attrs:{id:"数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[s._v("#")]),s._v(" 数据类型")]),s._v(" "),t("h3",{attrs:{id:"数值型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数值型"}},[s._v("#")]),s._v(" 数值型")]),s._v(" "),t("h4",{attrs:{id:"整型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#整型"}},[s._v("#")]),s._v(" 整型")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("tinyint")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1字节 -128～127 0-255")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("smallint")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2字节")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("mediumint")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3字节")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4字节")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bigint")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8字节")]),s._v("\n")])])]),t("ul",[t("li",[s._v("默认有符号，设置无符号 unsigned，")]),s._v(" "),t("li",[s._v("设置zerofill，默认无符号，长度不足补零")]),s._v(" "),t("li",[s._v("超出范围插入临界值")])]),s._v(" "),t("h4",{attrs:{id:"小数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小数"}},[s._v("#")]),s._v(" 小数")]),s._v(" "),t("blockquote",[t("p",[s._v("所选择的类型越简单越好，保存数值的类型越小越好（节省空间）")])]),s._v(" "),t("ul",[t("li",[s._v("M：指定 整数 + 小数 的总位数，默认10")]),s._v(" "),t("li",[s._v("D：指定小数位数，默认0")])]),s._v(" "),t("h5",{attrs:{id:"浮点数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浮点数"}},[s._v("#")]),s._v(" 浮点数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" D"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4字节")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("double")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" D"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8字节")]),s._v("\n")])])]),t("ul",[t("li",[s._v("随着插入数值的精度来决定")])]),s._v(" "),t("h5",{attrs:{id:"定点数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定点数"}},[s._v("#")]),s._v(" 定点数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可简写为 DEC(M, D)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECIMAL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" D"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("ul",[t("li",[s._v("相较浮点数更加精确")])]),s._v(" "),t("h3",{attrs:{id:"字符型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符型"}},[s._v("#")]),s._v(" 字符型")]),s._v(" "),t("h4",{attrs:{id:"短文本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#短文本"}},[s._v("#")]),s._v(" 短文本")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# M 字符数")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 固定长度，默认为1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可变长度，不可为空")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("M"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设字符数为10，不管内容有几个字符，char都会开辟10个空间。varchar则会根据内容长度开辟。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 由于varchar计算长度，所以性能相比char会较慢")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存较短的二进制")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("binary")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varbinary")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 枚举，只能插入指定的值，不区分大小写")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENUM")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 集合，可以存储0～64个成员，和enum的区别在于插入时可以同时插入多个")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v("\n")])])]),t("h4",{attrs:{id:"长文本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#长文本"}},[s._v("#")]),s._v(" 长文本")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("text")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存较长的二进制")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("blob")]),s._v("\n")])])]),t("h3",{attrs:{id:"日期型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日期型"}},[s._v("#")]),s._v(" 日期型")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("date")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("year")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("datetime")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8字节 1000～9999 不受时区影响")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("timestamp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4字节 1970～2038 受时区影响")]),s._v("\n")])])]),t("h2",{attrs:{id:"常见约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见约束"}},[s._v("#")]),s._v(" 常见约束")]),s._v(" "),t("p",[s._v("限制表中的数据，为了保证表中数据的准确和可靠性")]),s._v(" "),t("h3",{attrs:{id:"六大约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#六大约束"}},[s._v("#")]),s._v(" 六大约束")]),s._v(" "),t("h4",{attrs:{id:"not-null"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#not-null"}},[s._v("#")]),s._v(" NOT NULL")]),s._v(" "),t("p",[s._v("非空，保证该字段的值不能为空")]),s._v(" "),t("h4",{attrs:{id:"default"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#default"}},[s._v("#")]),s._v(" DEFAULT")]),s._v(" "),t("p",[s._v("默认，保证该字段有默认值")]),s._v(" "),t("h4",{attrs:{id:"primary-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#primary-key"}},[s._v("#")]),s._v(" PRIMARY KEY")]),s._v(" "),t("p",[s._v("主键，保证字段的唯一且不为空")]),s._v(" "),t("h4",{attrs:{id:"unique"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unique"}},[s._v("#")]),s._v(" UNIQUE")]),s._v(" "),t("p",[s._v("唯一，保证字段的唯一性")]),s._v(" "),t("h4",{attrs:{id:"check（mysql不支持）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#check（mysql不支持）"}},[s._v("#")]),s._v(" CHECK（MySQL不支持）")]),s._v(" "),t("p",[s._v("检查，如年龄范围的限制")]),s._v(" "),t("h4",{attrs:{id:"foreign-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#foreign-key"}},[s._v("#")]),s._v(" FOREIGN KEY")]),s._v(" "),t("p",[s._v("外键，限制两个表的关系，保证该字段的值必须来自于主表的关联列的值")]),s._v(" "),t("h5",{attrs:{id:"特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[s._v("#")]),s._v(" 特点")]),s._v(" "),t("ul",[t("li",[s._v("在从表设置外键关闭")]),s._v(" "),t("li",[s._v("从表的外键列和主表的关联列数据类型要保持一致或兼容")]),s._v(" "),t("li",[s._v("主表的关联列必须是一个key（主键或唯一）")]),s._v(" "),t("li",[s._v("插入数据时，先插入主表，再插入从表")]),s._v(" "),t("li",[s._v("删除数据时，先删除从表，再删除主表")])]),s._v(" "),t("h5",{attrs:{id:"添加时机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加时机"}},[s._v("#")]),s._v(" 添加时机")]),s._v(" "),t("ul",[t("li",[s._v("创建")]),s._v(" "),t("li",[s._v("修改")])]),s._v(" "),t("h5",{attrs:{id:"分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分类"}},[s._v("#")]),s._v(" 分类")]),s._v(" "),t("ul",[t("li",[s._v("列级\n"),t("ul",[t("li",[s._v("六大约束都可以写，但外键约束没有效果")])])]),s._v(" "),t("li",[s._v("表级\n"),t("ul",[t("li",[s._v("除了非空和默认，其他都支持")])])])]),s._v(" "),t("h3",{attrs:{id:"主键和唯一的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主键和唯一的区别"}},[s._v("#")]),s._v(" 主键和唯一的区别")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th"),s._v(" "),t("th",[s._v("唯一性")]),s._v(" "),t("th",[s._v("为空")]),s._v(" "),t("th",[s._v("允许多个")]),s._v(" "),t("th",[s._v("允许组合")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("主键")]),s._v(" "),t("td",[s._v("✅")]),s._v(" "),t("td",[s._v("❌")]),s._v(" "),t("td",[s._v("至少有1个")]),s._v(" "),t("td",[s._v("✅，但不推荐")])]),s._v(" "),t("tr",[t("td",[s._v("唯一")]),s._v(" "),t("td",[s._v("✅")]),s._v(" "),t("td",[s._v("✅")]),s._v(" "),t("td",[s._v("可以有多个")]),s._v(" "),t("td",[s._v("✅，但不推荐")])])])]),s._v(" "),t("h3",{attrs:{id:"创建表时添加约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建表时添加约束"}},[s._v("#")]),s._v(" 创建表时添加约束")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列级约束")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" info {\n  a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  c "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHECK")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'男'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'女'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  d "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  e "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  f "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n}\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表级约束")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" info {\n  a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  b "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("varchar")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  c "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("char")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  d "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  e "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  f "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v("，\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" pk "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" uq "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" ck "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHECK")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'男'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'女'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" fk "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n}\n\n")])])]),t("h3",{attrs:{id:"修改表时添加约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改表时添加约束"}},[s._v("#")]),s._v(" 修改表时添加约束")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列级约束")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODIFY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" 列名 类型 约束\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表级约束")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("h3",{attrs:{id:"修改表时删除约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改表时删除约束"}},[s._v("#")]),s._v(" 修改表时删除约束")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除主键")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除唯一")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" 列名\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除外键")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" 列名\n")])])]),t("h2",{attrs:{id:"标识列"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#标识列"}},[s._v("#")]),s._v(" 标识列")]),s._v(" "),t("p",[s._v("自增列，默认从1自增")]),s._v(" "),t("ul",[t("li",[s._v("一个表中只能有一个标识列")]),s._v(" "),t("li",[s._v("标识列的类型只能是数值型")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" info {\n  a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AUTO_INCREMENT")]),s._v("\n}\n")])])]),t("h2",{attrs:{id:"事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务"}},[s._v("#")]),s._v(" 事务")]),s._v(" "),t("p",[s._v("一个或一组sql语句组成一个执行单元，这个执行单元要么全部执行，要么全部不执行。")]),s._v(" "),t("h3",{attrs:{id:"事务的acid属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务的acid属性"}},[s._v("#")]),s._v(" 事务的ACID属性")]),s._v(" "),t("ul",[t("li",[s._v("Atomicity\n"),t("ul",[t("li",[s._v("原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生")])])]),s._v(" "),t("li",[s._v("Consistency\n"),t("ul",[t("li",[s._v("事务必须使数据库从一个一致性状态变换到另一个一致性状态")])])]),s._v(" "),t("li",[s._v("Isolation\n"),t("ul",[t("li",[s._v("一个事务的执行不能被其他事务干扰")])])]),s._v(" "),t("li",[s._v("Durability\n"),t("ul",[t("li",[s._v("事务一旦被提交，它对数据库中的改变就是永久性的")])])])]),s._v(" "),t("h3",{attrs:{id:"事务的创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务的创建"}},[s._v("#")]),s._v(" 事务的创建")]),s._v(" "),t("h4",{attrs:{id:"隐式事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#隐式事务"}},[s._v("#")]),s._v(" 隐式事务")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v("\n")])])]),t("h4",{attrs:{id:"显式事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显式事务"}},[s._v("#")]),s._v(" 显式事务")]),s._v(" "),t("p",[s._v("前提：必须先禁用自动提交的功能")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启事务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" autocommit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编写事务中的sql语句")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 结束事务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("commit")]),s._v("； "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交事务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OR")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回滚事务")]),s._v("\n")])])]),t("ul",[t("li",[s._v("DELETE 支持回滚操作")]),s._v(" "),t("li",[s._v("TRUNCATE 不支持回滚操作")])]),s._v(" "),t("h3",{attrs:{id:"隔离级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#隔离级别"}},[s._v("#")]),s._v(" 隔离级别")]),s._v(" "),t("p",[s._v("同时运行的多个事务，当这些事务访问数据库中的相同的数据时，如果没有采取必要的隔离机制，就会导致各种并发问题：")]),s._v(" "),t("ul",[t("li",[s._v("脏读：T1读取了T2"),t("em",[s._v("更新但还没提交")]),s._v("的数据后，若T2回滚，T1读取的内容就是无效的")]),s._v(" "),t("li",[s._v("不可重复读：T1读取了一个字段，T2更新该字段后，T1再次读取，值就不同了")]),s._v(" "),t("li",[s._v("幻读：T1读取了字段后，T2执行了插入动作后，T1再次读取就会多出几行")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th"),s._v(" "),t("th",[s._v("脏读")]),s._v(" "),t("th",[s._v("不可重复读")]),s._v(" "),t("th",[s._v("幻读")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("read uncommitted")]),s._v(" "),t("td",[s._v("✅")]),s._v(" "),t("td",[s._v("✅")]),s._v(" "),t("td",[s._v("✅")])]),s._v(" "),t("tr",[t("td",[s._v("read committed")]),s._v(" "),t("td",[s._v("❌")]),s._v(" "),t("td",[s._v("✅")]),s._v(" "),t("td",[s._v("✅")])]),s._v(" "),t("tr",[t("td",[s._v("repeatable read")]),s._v(" "),t("td",[s._v("❌")]),s._v(" "),t("td",[s._v("❌")]),s._v(" "),t("td",[s._v("✅")])]),s._v(" "),t("tr",[t("td",[s._v("serializable")]),s._v(" "),t("td",[s._v("❌")]),s._v(" "),t("td",[s._v("❌")]),s._v(" "),t("td",[s._v("❌")])])])]),s._v(" "),t("ul",[t("li",[s._v("MySQL 中默认 repeatable read")]),s._v(" "),t("li",[s._v("Oracle 中默认 read committed")])]),s._v(" "),t("h4",{attrs:{id:"查看隔离级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看隔离级别"}},[s._v("#")]),s._v(" 查看隔离级别")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@tx_isolation")]),s._v("\n")])])]),t("h4",{attrs:{id:"设置当前mysql连接的隔离级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置当前mysql连接的隔离级别"}},[s._v("#")]),s._v(" 设置当前MySQL连接的隔离级别")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("committed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"设置数据库系统全局的隔离级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置数据库系统全局的隔离级别"}},[s._v("#")]),s._v(" 设置数据库系统全局的隔离级别")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("isolation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("committed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"回滚点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#回滚点"}},[s._v("#")]),s._v(" 回滚点")]),s._v(" "),t("p",[s._v("搭配 rollback 使用，回滚至某个标记点")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" autocommit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("start")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("savepoint")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置节点")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v("、"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("rollback")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 回滚事务")]),s._v("\n")])])]),t("h2",{attrs:{id:"视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图"}},[s._v("#")]),s._v(" 视图")]),s._v(" "),t("p",[s._v("虚拟表，行和列的数据来自于查询中使用的表，在使用中动态生成。只保存sql逻辑，不保存查询结果。")]),s._v(" "),t("h3",{attrs:{id:"应用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[s._v("#")]),s._v(" 应用场景")]),s._v(" "),t("ul",[t("li",[s._v("多个地方用到同样的查询结果")]),s._v(" "),t("li",[s._v("查询结果使用的sql语句较复杂")])]),s._v(" "),t("h3",{attrs:{id:"创建视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建视图"}},[s._v("#")]),s._v(" 创建视图")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("view")]),s._v(" 视图名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v("\n查询语句\n")])])]),t("h3",{attrs:{id:"修改视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改视图"}},[s._v("#")]),s._v(" 修改视图")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建或替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("replace")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("view")]),s._v(" 视图名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v("\n查询语句\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("view")]),s._v(" 视图名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v("\n查询语句\n")])])]),t("h3",{attrs:{id:"删除视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除视图"}},[s._v("#")]),s._v(" 删除视图")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" 视图名"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，视图名"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])])]),t("h2",{attrs:{id:"变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[s._v("#")]),s._v(" 变量")]),s._v(" "),t("h3",{attrs:{id:"系统变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统变量"}},[s._v("#")]),s._v(" 系统变量")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局变量 global")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 会话变量 session")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认 session")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" variables"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" variables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%char%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.")]),s._v("系统变量名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" 系统变量名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.")]),s._v("系统变量名 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 值\n")])])]),t("ul",[t("li",[s._v("会话变量仅只针对于当前的会话生效")])]),s._v(" "),t("h3",{attrs:{id:"自定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义变量"}},[s._v("#")]),s._v(" 自定义变量")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用户变量，作用域同会话变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 声明和更新")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" @用户变量名"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" @用户变量名:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" @用户变量名:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 字段 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" 变量名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 局部变量，作用域定义它的begin end中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" 变量名 类型\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v(" 变量名 类型 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" 值\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 局部变量名"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" 局部变量名:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 局部变量名:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 字段 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" 变量名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" 表\n")])])]),t("h2",{attrs:{id:"存储过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存储过程"}},[s._v("#")]),s._v(" 存储过程")]),s._v(" "),t("p",[s._v("一组预先编译好的sql语句集合，可以有0个或多个返回值")]),s._v(" "),t("ol",[t("li",[s._v("提高代码的重复性")]),s._v(" "),t("li",[s._v("简化操作")]),s._v(" "),t("li",[s._v("减少编译次数并且减少和数据库服务器的连接次数")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数模式 参数名 类型")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" 存储过程名（参数列表）\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),s._v(" 语句\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 调用语法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" 存储过程名（传参）\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" procedur 存储过程名\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("procedure")]),s._v(" 存储过程名\n")])])]),t("h3",{attrs:{id:"参数模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数模式"}},[s._v("#")]),s._v(" 参数模式")]),s._v(" "),t("ul",[t("li",[s._v("IN：可以作为输入，需要调用方传入值")]),s._v(" "),t("li",[s._v("OUT：可以作为输出，返回值")]),s._v(" "),t("li",[s._v("INOUT")])]),s._v(" "),t("h3",{attrs:{id:"结束标记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结束标记"}},[s._v("#")]),s._v(" 结束标记")]),s._v(" "),t("p",[s._v("由于sql语句后面都会带有 "),t("code",[s._v(";")]),s._v("，所以整个结构体需要使用其他的结束标记")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("delimit $")]),s._v(" 进行标记配置")]),s._v(" "),t("h2",{attrs:{id:"函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[s._v("#")]),s._v(" 函数")]),s._v(" "),t("p",[s._v("有且仅有一个返回值")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数名 参数类型")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" 函数名（参数列表）"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("returns")]),s._v(" 返回类型\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("begin")]),s._v("\n  函数体\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" 值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 调用语法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" 函数名（参数列表）\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看函数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" 函数名\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" 函数名\n")])])]),t("h2",{attrs:{id:"流程控制-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程控制-2"}},[s._v("#")]),s._v(" 流程控制")]),s._v(" "),t("h3",{attrs:{id:"分支结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支结构"}},[s._v("#")]),s._v(" 分支结构")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果表达式1成立，返回表达式2的值，否则返回表达式3的值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以应用在任何地方")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("表达式"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("，表达式"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("，表达式"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只能放在begin end中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" 条件"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" 语句\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elseif")]),s._v(" 条件"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" 语句"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# case then 后面是值的时候可以放在任何地方，then后面是语句的时候只能放在begin end中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" 变量｜表达式｜字段\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" 值"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" 返回值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" 值"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" 返回值\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" 返回值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 语法2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" 判断条件 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" 返回值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" 判断条件 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" 返回值\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" 返回值\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v("\n")])])]),t("h3",{attrs:{id:"循环结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#循环结构"}},[s._v("#")]),s._v(" 循环结构")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n  iterate: 类似 continue\n  leave：类似 break\n*/")]),s._v("\n\n标签："),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" 条件 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  循环体\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" 标签\n\n标签："),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("loop")]),s._v("\n  循环体\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("loop")]),s._v(" 标签\n\n标签："),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("repeat")]),s._v("\n  循环体\nuntil 结束循环的条件\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("repeat")]),s._v(" 标签\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);